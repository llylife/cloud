!function(e){var t=document;e.layer={setting:null,style:null,element:{},timer:null,init:function(){var e=this.element,o=this.setting,n=this.style;if(e.oLayer=t.createElement("div"),e.oLayer.className="layer",e.oMain=t.createElement("div"),e.oMain.className="layer-main",e.oLayer.appendChild(e.oMain),0!=o.covered&&(e.oCovered=t.createElement("div"),e.oCovered.className="layer-covered",0!=o.coveredClose&&e.oCovered.addEventListener("click",function(e){this.close(e)}.bind(this,e.oLayer),!1),e.oLayer.appendChild(e.oCovered)),o.title&&(e.oTitle=t.createElement("div"),e.oTitle.className="layer-title",e.oTitle.innerHTML=o.title,e.oMain.appendChild(e.oTitle),o.close&&(e.oClose=t.createElement("div"),e.oClose.className="layer-title-close",e.oClose.addEventListener("click",function(e){this.close(e)}.bind(this,e.oLayer),!1),e.oTitle.appendChild(e.oClose))),e.oContent=t.createElement("div"),e.oContent.className="layer-content",e.oContent.innerHTML=o.content||"暂无内容",e.oMain.appendChild(e.oContent),o.button&&"object"==typeof o.button&&"number"==typeof o.button.length){e.oButton=t.createElement("div"),e.oButton.className="layer-button";for(var i=o.button,a=0;a<i.length;a++){var l=t.createElement("div");l.className="layer-button-item",l.innerHTML=i[a].name,i[a].callback||(i[a].callback=function(){}),l.addEventListener("click",function(e,t){this.close(e),t()}.bind(this,e.oLayer,i[a].callback.bind(this)),!1),e.oButton.appendChild(l)}e.oMain.appendChild(e.oButton)}for(var c in n){var s=c.replace(/\b(\w)|\s(\w)/g,function(e){return e.toUpperCase()}),r=n[c];for(var d in r)this.element["o"+s].style[d]=r[d]}t.body.appendChild(e.oLayer),"number"==typeof o.time&&(this.timer=setTimeout(function(e){this.close(e)}.bind(this,e.oLayer),o.time))},open:function(e,t){this.setting=e||{},this.style=t||{},this.init()},close:function(e){e||(e=this.element.oLayer),e.parentNode==document.body&&document.body.removeChild(e)},msg:function(e,t,o){var n={};"top"==t?(n.top="50px",n.bottom="auto"):"center"==t?(n.top="auto",n.bottom="50%"):(n.top="auto",n.bottom="50px"),this.open({covered:!1,content:e,time:o||1e3},{layer:n,main:{minWidth:"0"},content:{padding:"0 10px",background:"rgba(85, 85, 85, 0.7)",lineHeight:"24px",fontSize:"13px",color:"#fff"}})},explain:function(e){this.open({title:"系统提示",close:!0,coveredClose:!0,content:e})},asked:function(e,t,o){this.open({close:!1,coveredClose:!1,content:e,button:[{name:"取消",callback:t},{name:"确定",callback:o}]})},alert:function(e){this.open({close:!1,coveredClose:!1,content:e,button:[{name:"确定"}]})},load:function(e,t){this.open({covered:!0,coveredClose:t,content:'<div class="layer-content-loading"></div><p style="font-size: 13px; color: #222;">'+e+"</p>"},{layer:{top:"40%",bottom:"auto"},main:{minWidth:"0"},content:{padding:"5px",background:"#fff",lineHeight:"24px",fontSize:"13px",textAlign:"center",color:"#555"}})}}}(window);