!function(e){var t=document;e.cloud={setting:null,style:null,element:{},timer:null,init:function(){var e=this.element,o=this.setting,n=this.style;if(e.oCloud=t.createElement("div"),e.oCloud.className="cloud",e.oMain=t.createElement("div"),e.oMain.className="cloud-main",e.oCloud.appendChild(e.oMain),0!=o.covered&&(e.oCovered=t.createElement("div"),e.oCovered.className="cloud-covered",0!=o.coveredClose&&e.oCovered.addEventListener("click",function(e){this.close(e)}.bind(this,e.oCloud),!1),e.oCloud.appendChild(e.oCovered)),o.title&&(e.oTitle=t.createElement("div"),e.oTitle.className="cloud-title",e.oTitle.innerHTML=o.title,e.oMain.appendChild(e.oTitle),o.close&&(e.oClose=t.createElement("div"),e.oClose.className="cloud-title-close",e.oClose.addEventListener("click",function(e){this.close(e)}.bind(this,e.oCloud),!1),e.oTitle.appendChild(e.oClose))),e.oContent=t.createElement("div"),e.oContent.className="cloud-content",e.oContent.innerHTML=o.content||"暂无内容",e.oMain.appendChild(e.oContent),o.button&&"object"==typeof o.button&&"number"==typeof o.button.length){e.oButton=t.createElement("div"),e.oButton.className="cloud-button";for(var i=o.button,l=0;l<i.length;l++){var a=t.createElement("div");a.className="cloud-button-item",a.innerHTML=i[l].name,i[l].callback||(i[l].callback=function(){}),a.addEventListener("click",function(e,t){this.close(e),t()}.bind(this,e.oCloud,i[l].callback.bind(this)),!1),e.oButton.appendChild(a)}e.oMain.appendChild(e.oButton)}for(var c in n){var s=c.replace(/\b(\w)|\s(\w)/g,function(e){return e.toUpperCase()}),d=n[c];for(var r in d)e["o"+s].style[r]=d[r]}t.body.appendChild(e.oCloud),"number"==typeof o.time&&(this.timer=setTimeout(function(e){this.close(e)}.bind(this,e.oCloud),o.time))},open:function(e,t){this.setting=e||{},this.style=t||{},this.init()},close:function(e){e||(e=this.element.oCloud),e.parentNode==document.body&&document.body.removeChild(e)},msg:function(e,t,o){var n={};"top"==t?(n.top="50px",n.bottom="auto"):"center"==t?(n.top="auto",n.bottom="50%"):(n.top="auto",n.bottom="50px"),this.open({covered:!1,content:e,time:o||1e3},{cloud:n,main:{minWidth:"0"},content:{padding:"0 10px",background:"rgba(85, 85, 85, 0.7)",lineHeight:"24px",fontSize:"13px",color:"#fff"}})},explain:function(e){this.open({title:"系统提示",close:!0,coveredClose:!0,content:e})},asked:function(e,t,o){this.open({close:!1,coveredClose:!1,content:e,button:[{name:"取消",callback:t},{name:"确定",callback:o}]})},alert:function(e){this.open({close:!1,coveredClose:!1,content:e,button:[{name:"确定"}]})},load:function(e,t){this.open({covered:!0,coveredClose:t,content:'<div class="cloud-content-loading"></div><p style="font-size: 13px; color: #222;">'+e+"</p>"},{cloud:{top:"40%",bottom:"auto"},main:{minWidth:"0"},content:{padding:"5px",background:"#fff",lineHeight:"24px",fontSize:"13px",textAlign:"center",color:"#555"}})}}}(window);
